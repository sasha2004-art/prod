<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dano Olympiad | Pro Analysis</title>
    <link rel="stylesheet" href="style-apple-modern.css">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="icon" href="images/Team_Spirit_new_em.svg" type="image/svg+xml">
</head>
<body>

    <!-- Навигация (скрытые зоны клика) -->
    <div class="click-zone zone-left" onclick="prevSlide()"></div>
    <div class="click-zone zone-right" onclick="nextSlide()"></div>

    <!-- Футер -->
    <div class="footer-bar">
        <img src="images/Team_Spirit_new_em.svg" class="logo-small" style="filter: brightness(0) invert(1);">
        <div class="slide-counter"><span id="currSlide">1</span> / <span id="totalSlide">13</span></div>
    </div>

    <!-- === СЛАЙДЫ === -->

    <!-- 1. ТИТУЛЬНИК (Minimalist Brand Reveal) -->
    <div class="slide active">
        <div style="text-align: center;">
            <img src="images/Team_Spirit_new_em.svg" width="120" style="filter: brightness(0) invert(1); margin-bottom: 40px; opacity: 0.9;">
            <p style="text-transform: uppercase; font-size: 1rem; font-weight: 700; letter-spacing: 0.2em; color: var(--accent); margin-bottom: 20px;">Analysis Case Study</p>
            <h1>Dano <span class="gradient-text">Olympiad.</span></h1>
            <p style="max-width: 600px; margin: 0 auto; margin-top: 20px;">Глубокий анализ данных. Продвинутые модели. Реальный профит.</p>
        </div>
    </div>

    <!-- 2. AGENDA (Bento Grid) -->
    <div class="slide">
        <h2>Agenda.</h2>
        <div class="bento-grid grid-4" style="height: 400px;">
            <div class="bento-card">
                <h3>01</h3>
                <p style="color: #fff; font-weight: 600;">Problem.</p>
                <div style="margin-top: auto; font-size: 0.9rem;">Бизнес-контекст</div>
            </div>
            <div class="bento-card">
                <h3>02</h3>
                <p style="color: #fff; font-weight: 600;">Data.</p>
                <div style="margin-top: auto; font-size: 0.9rem;">EDA & Features</div>
            </div>
            <div class="bento-card" style="background: #222;">
                <h3>03</h3>
                <p style="color: var(--accent); font-weight: 600;">Model.</p>
                <div style="margin-top: auto; font-size: 0.9rem;">CatBoost & Optuna</div>
            </div>
            <div class="bento-card">
                <h3>04</h3>
                <p style="color: #fff; font-weight: 600;">Profit.</p>
                <div style="margin-top: auto; font-size: 0.9rem;">$$$</div>
            </div>
        </div>
    </div>

    <!-- 3. ПРОБЛЕМАТИКА (Big Impact Typography) -->
    <div class="slide">
        <div class="bento-card" style="width: 100%; max-width: 900px; text-align: center; padding: 80px;">
            <p style="text-transform: uppercase; letter-spacing: 0.1em; font-size: 1rem; margin-bottom: 20px;">The Challenge</p>
            <h1 style="font-size: 4rem;">We are losing money.</h1>
            <div style="width: 100px; height: 4px; background: #333; margin: 40px auto;"></div>
            <p class="gradient-text" style="font-size: 5rem; font-weight: 700;">$X Million</p>
            <p style="margin-top: 10px;">Annually due to churn.</p>
        </div>
    </div>

    <!-- 4. МЕТРИКИ (Vertical Cards) -->
    <div class="slide">
        <div class="bento-grid grid-3" style="align-items: center;">
            <div class="bento-card" style="height: 300px; opacity: 0.5;">
                <h3>Proxy</h3>
                <p style="font-size: 2rem; color: #fff; margin-top: 20px;">Conversion</p>
            </div>
            <div class="bento-card" style="height: 350px; border: 1px solid var(--accent); box-shadow: 0 0 30px rgba(41, 151, 255, 0.2);">
                <div class="badge blue">Key Metric</div>
                <h3>Goal</h3>
                <p style="font-size: 2.5rem; color: #fff; margin-top: 20px;">Revenue</p>
                <p style="font-size: 1rem; margin-top: auto;">Максимизация прибыли</p>
            </div>
            <div class="bento-card" style="height: 300px; opacity: 0.5;">
                <h3>Guardrail</h3>
                <p style="font-size: 2rem; color: #fff; margin-top: 20px;">Churn</p>
            </div>
        </div>
    </div>

    <!-- 5. ПАЙПЛАЙН (Horizontal Pill) -->
    <div class="slide">
        <h2>The Pipeline.</h2>
        <div style="display: flex; gap: 20px; margin-top: 40px;">
            <div class="bento-card" style="width: 200px; height: 150px; justify-content: center; align-items: center;">
                <span style="font-size: 1.5rem; font-weight: 700; color: #fff;">Input</span>
            </div>
            <div style="font-size: 2rem; color: #333; display: flex; align-items: center;">&rarr;</div>
            <div class="bento-card" style="width: 200px; height: 150px; justify-content: center; align-items: center;">
                <span style="font-size: 1.5rem; font-weight: 700; color: #fff;">Processing</span>
            </div>
            <div style="font-size: 2rem; color: #333; display: flex; align-items: center;">&rarr;</div>
            <div class="bento-card" style="width: 200px; height: 150px; justify-content: center; align-items: center; background: linear-gradient(135deg, #222, #333); border: 1px solid #444;">
                <span class="gradient-text" style="font-size: 1.5rem; font-weight: 700;">Model</span>
            </div>
        </div>
    </div>

    <!-- 6. LIVE DATA (Dark Charts) -->
    <div class="slide" id="chartSlide">
        <div class="bento-grid grid-2" style="height: 500px; grid-template-columns: 2fr 1fr;">
            <!-- Chart 1 -->
            <div class="bento-card">
                <h3>Uplift Performance</h3>
                <div id="chart-area" class="chart-container"></div>
            </div>
            <!-- Chart 2 -->
            <div class="bento-card">
                <h3>Feature Importance</h3>
                <div id="chart-bar" class="chart-container"></div>
            </div>
        </div>
    </div>

    <!-- 7. FEATURES (Comparison) -->
    <div class="slide">
        <div class="bento-grid grid-2">
            <div class="bento-card" style="background: transparent; border: 1px dashed #333;">
                <h3 style="color: #666;">Legacy Features</h3>
                <ul style="list-style: none; margin-top: 20px; color: #666; font-size: 1.2rem; line-height: 2;">
                    <li>Raw Timestamp</li>
                    <li>User_ID only</li>
                    <li>Category_ID</li>
                </ul>
            </div>
            <div class="bento-card">
                <div class="badge blue">New</div>
                <h3 style="color: #fff;">Engineered Features</h3>
                <ul style="list-style: none; margin-top: 20px; color: #fff; font-size: 1.4rem; font-weight: 500; line-height: 2;">
                    <li>Is_Weekend_Flag</li>
                    <li>Avg_Check_30d</li>
                    <li>User_LTV_Segment</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 8. CODE (Terminal Style) -->
    <div class="slide">
        <h2>Implementation.</h2>
        <div class="code-window">
<pre>
<span style="color: #888;"># Model Training Pipeline</span>
<span class="kwd">def</span> <span class="func">train_catboost</span>(X, y):
    model = <span class="func">CatBoostClassifier</span>(
        iterations=<span class="num">1000</span>,
        learning_rate=<span class="num">0.05</span>,
        loss_function=<span class="str">'Logloss'</span>,
        eval_metric=<span class="str">'AUC'</span>,
        task_type=<span class="str">'GPU'</span>
    )
    
    <span style="color: #888;"># Fit with early stopping</span>
    model.fit(X, y, verbose=<span class="num">100</span>)
    <span class="kwd">return</span> model
</pre>
        </div>
        <p style="margin-top: 20px; font-size: 1rem;">Optimized for speed and accuracy.</p>
    </div>

    <!-- 9. RESULTS (Huge Numbers) -->
    <div class="slide">
        <div class="bento-grid grid-3">
            <div class="bento-card" style="text-align: center; justify-content: center;">
                <span class="big-number gradient-text">0.89</span>
                <p>ROC-AUC</p>
            </div>
            <div class="bento-card" style="text-align: center; justify-content: center;">
                <span class="big-number" style="color: var(--success);">+5%</span>
                <p>Uplift vs Baseline</p>
            </div>
            <div class="bento-card" style="text-align: center; justify-content: center;">
                <span class="big-number">20<span style="font-size: 3rem;">ms</span></span>
                <p>Inference Time</p>
            </div>
        </div>
    </div>

    <!-- 10. ERRORS -->
    <div class="slide">
        <h2>Error Analysis.</h2>
        <div class="bento-grid grid-2">
            <div class="bento-card">
                <h3 style="color: #ff3b30;">False Positives</h3>
                <p style="margin-top: 10px; color: #fff;">Cold Start Users.</p>
                <p style="font-size: 1rem; margin-top: 10px;">Модель ошибается на пользователях без истории покупок.</p>
            </div>
            <div class="bento-card" style="background: rgba(41, 151, 255, 0.1);">
                <h3 style="color: var(--accent);">Solution</h3>
                <p style="margin-top: 10px; color: #fff;">Heuristic Fallback.</p>
                <p style="font-size: 1rem; margin-top: 10px;">Отдельная ветка логики для новых юзеров.</p>
            </div>
        </div>
    </div>

    <!-- 11. ECONOMICS (One More Thing) -->
    <div class="slide">
        <p style="margin-bottom: 20px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase;">Business Impact</p>
        <div style="font-size: 8rem; font-weight: 700; color: #fff;">$150,000</div>
        <p class="gradient-text" style="font-size: 2rem; margin-top: 10px;">Monthly Additional Profit</p>
    </div>

    <!-- 12. TEAM -->
    <div class="slide">
        <h2>The Team.</h2>
        <div class="bento-grid grid-4" style="text-align: center;">
            <div class="bento-card" style="align-items: center; padding: 30px 10px;">
                <div class="avatar-circle" style="background-image: url('images/team_member_1.jpg');"></div>
                <h3 style="color: #fff; font-size: 1.2rem;">Captain</h3>
                <p style="font-size: 0.9rem;">Strategy</p>
            </div>
            <div class="bento-card" style="align-items: center; padding: 30px 10px;">
                <div class="avatar-circle"></div>
                <h3 style="color: #fff; font-size: 1.2rem;">ML Eng</h3>
                <p style="font-size: 0.9rem;">Code</p>
            </div>
            <div class="bento-card" style="align-items: center; padding: 30px 10px;">
                <div class="avatar-circle"></div>
                <h3 style="color: #fff; font-size: 1.2rem;">Analyst</h3>
                <p style="font-size: 0.9rem;">Insights</p>
            </div>
            <div class="bento-card" style="align-items: center; padding: 30px 10px;">
                <div class="avatar-circle"></div>
                <h3 style="color: #fff; font-size: 1.2rem;">Design</h3>
                <p style="font-size: 0.9rem;">Deck</p>
            </div>
        </div>
    </div>

    <!-- 13. FINAL -->
    <div class="slide">
        <img src="images/Team_Spirit_new_em.svg" width="150" style="filter: brightness(0) invert(1); margin-bottom: 40px;">
        <h1 style="font-size: 3rem;">Thank you.</h1>
        <br>
        <a href="index.html" style="color: #666; text-decoration: none; font-size: 0.9rem; margin-top: 50px; border-bottom: 1px solid #333;">Back to Menu</a>
    </div>

    <script>
        // === CHART CONFIG (Modern Apple Style) ===
        const ACCENT = '#2997ff'; // Apple Blue
        const BASELINE_COLOR = '#6e6e73'; // Apple Gray
        
        const commonOptions = {
            chart: { 
                background: 'transparent', 
                toolbar: { show: false }, 
                animations: { enabled: true, easing: 'easeinout', speed: 800 },
                fontFamily: 'Inter, sans-serif'
            },
            theme: { mode: 'dark' },
            colors: [ACCENT, BASELINE_COLOR], // Два цвета для двух линий
            grid: { show: true, borderColor: '#333', strokeDashArray: 4 },
            dataLabels: { enabled: false },
            tooltip: { theme: 'dark' }
        };

        // 1. AREA CHART (Updated Data: Uplift vs Baseline)
        const areaOptions = {
            ...commonOptions,
            series: [
                { name: 'Model Uplift', data: [31, 40, 28, 51, 42, 109, 100] },
                { name: 'Baseline', data: [11, 32, 45, 32, 34, 52, 41] }
            ],
            chart: { type: 'area', height: '100%', toolbar: { show: false } },
            stroke: { curve: 'smooth', width: 3 },
            fill: { 
                type: 'gradient', 
                gradient: { 
                    shadeIntensity: 1, 
                    opacityFrom: 0.5, 
                    opacityTo: 0.05, 
                    stops: [0, 100]
                } 
            },
            xaxis: { 
                categories: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'], 
                axisBorder: { show: false }, 
                axisTicks: { show: false },
                labels: { style: { colors: '#86868b' } }
            },
            yaxis: { show: false }
        };

        // 2. BAR CHART (Updated Categories)
        const barOptions = {
            ...commonOptions,
            series: [{ name: 'Importance', data: [400, 430, 448, 470, 540] }],
            chart: { type: 'bar', height: '100%', toolbar: { show: false } },
            plotOptions: { 
                bar: { 
                    borderRadius: 6, 
                    horizontal: true, 
                    barHeight: '40%',
                    distributed: true 
                } 
            },
            // Градиент синего для красоты
            colors: ['#2997ff', '#2d8cf0', '#3281e0', '#3676d1', '#3b6bc1'],
            xaxis: { 
                // Категории теперь точно как в Classic
                categories: ['Age', 'Region', 'Last_Login', 'Total_Spend', 'Is_Weekend'], 
                labels: { style: { colors: '#86868b' } },
                axisBorder: { show: false },
                axisTicks: { show: false }
            },
            legend: { show: false }
        };

        let ch1, ch2;
        
        document.addEventListener('DOMContentLoaded', () => {
            ch1 = new ApexCharts(document.querySelector("#chart-area"), areaOptions);
            ch2 = new ApexCharts(document.querySelector("#chart-bar"), barOptions);
            ch1.render(); ch2.render();
        });

        // === SLIDER LOGIC ===
        let current = 0;
        const slides = document.querySelectorAll('.slide');
        const countEl = document.getElementById('currSlide');
        
        function showSlide(idx) {
            slides.forEach((s, i) => {
                s.classList.remove('active');
                if(i === idx) {
                    s.classList.add('active');
                    if(s.id === 'chartSlide') {
                        ch1.updateOptions({ chart: { animations: { enabled: true } } });
                        ch2.updateOptions({ chart: { animations: { enabled: true } } });
                    }
                }
            });
            countEl.innerText = idx + 1;
        }

        function nextSlide() { current = (current + 1) % slides.length; showSlide(current); }
        function prevSlide() { current = (current - 1 + slides.length) % slides.length; showSlide(current); }
        
        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowRight' || e.key === 'Space') nextSlide();
            if(e.key === 'ArrowLeft') prevSlide();
        });
    </script>
</body>
</html>