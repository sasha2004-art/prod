<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keynote '07 Style</title>
    <link rel="stylesheet" href="style-apple.css">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="icon" href="images/Team_Spirit_new_em.svg" type="image/svg+xml">
</head>
<body>

    <!-- СЧЕТЧИК (Сделаем его еле заметным, как для спикера) -->
    <div class="slide-counter"><span id="currSlide">1</span></div>

    <!-- === СЛАЙДЫ === -->

    <!-- 1. ТИТУЛЬНИК (Стиль: "Welcome to 2007") -->
    <div class="slide active flex-center">
        <div class="stage-content reflection">
            <img src="images/Team_Spirit_new_em.svg" width="180" style="filter: brightness(0) invert(1); margin-bottom: 40px;">
            <h1>Dano Olympiad.</h1>
            <p class="subtitle">Analysis Case Study</p>
        </div>
    </div>

    <!-- 2. AGENDA (Стиль: "Three things") -->
    <div class="slide flex-center">
        <div class="stage-content">
            <!-- Эмуляция слайда "iPod, Phone, Internet Communicator" -->
            <div class="icons-row reflection">
                <div class="icon-item">
                    <div class="icon-circle">1</div>
                    <p>Problem</p>
                </div>
                <div class="icon-item">
                    <div class="icon-circle">2</div>
                    <p>Model</p>
                </div>
                <div class="icon-item">
                    <div class="icon-circle">3</div>
                    <p>Profit</p>
                </div>
            </div>
            <h2 style="margin-top: 60px; font-weight: 300;">Today's Agenda.</h2>
        </div>
    </div>

    <!-- 3. ПРОБЛЕМАТИКА -->
    <div class="slide flex-center">
        <div class="stage-content">
            <h2 class="huge-text">We are losing money.</h2>
            <div class="separator-line"></div>
            <p class="med-text reflection" style="color: #ff6b6b;">$X Million Annually</p>
        </div>
    </div>

    <!-- 4. ИЕРАРХИЯ МЕТРИК -->
    <div class="slide flex-center">
        <div class="stage-content">
            <h2 style="margin-bottom: 50px;">The Metrics</h2>
            
            <div class="hierarchy-tree reflection">
                <div class="level-1">Revenue</div>
                <div class="lines">
                    <div class="l-left"></div>
                    <div class="l-right"></div>
                </div>
                <div class="level-2-row">
                    <div class="box">Conversion</div>
                    <div class="box">Churn</div>
                </div>
                <div class="line-down"></div>
                <div class="level-3">ROC-AUC</div>
            </div>
        </div>
    </div>

    <!-- 5. ПАЙПЛАЙН -->
    <div class="slide flex-center">
        <div class="stage-content">
            <h2>The Pipeline</h2>
            <div class="pipeline-row reflection">
                <div class="p-step">Input</div>
                <div class="p-arr">&rarr;</div>
                <div class="p-step">Clean</div>
                <div class="p-arr">&rarr;</div>
                <div class="p-step highlight">Model</div>
            </div>
            <p style="margin-top: 40px; color: #888;">Simple. Fast. Reliable.</p>
        </div>
    </div>

    <!-- 6. LIVE DATA (Стиль iWork Charts) -->
    <div class="slide" id="chartSlide">
        <h2 class="slide-title">Performance</h2>
        <div class="charts-container reflection">
            <div class="chart-box main">
                <div id="chart-area"></div>
            </div>
            <div class="chart-box side">
                <div id="chart-bar"></div>
            </div>
        </div>
    </div>

    <!-- 7. FEATURES (Стиль: Сравнение списков) -->
    <div class="slide flex-center">
        <div class="stage-content grid-2">
            <div class="list-col opacity-50">
                <h3>Old Way</h3>
                <ul>
                    <li>Timestamp</li>
                    <li>User_Region</li>
                    <li>Raw Items</li>
                </ul>
            </div>
            <div class="list-col reflection">
                <h3 style="color: #6b94d6;">New Way</h3>
                <ul>
                    <li>Is_Weekend</li>
                    <li>Hour_Of_Day</li>
                    <li>Avg_Spend</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 8. CODE -->
    <div class="slide flex-center">
        <div class="stage-content">
            <h2>The Code</h2>
            <div class="code-glass reflection">
<pre>
<span class="kwd">def</span> <span class="func">train_model</span>(X, y):
    model = CatBoostClassifier(
        iterations=<span class="num">1000</span>,
        metric=<span class="str">'AUC'</span>
    )
    model.fit(X, y)
    <span class="kwd">return</span> model
</pre>
            </div>
            <p style="margin-top: 20px; font-size: 1.2rem; color: #888;">Python 3.9</p>
        </div>
    </div>

    <!-- 9. РЕЗУЛЬТАТЫ -->
    <div class="slide flex-center">
        <div class="stage-content reflection">
            <div class="giant-number">0.89</div>
            <p class="subtitle">ROC-AUC Score</p>
            <div class="sub-stats">
                <span>+0.05 vs Baseline</span>
            </div>
        </div>
    </div>

    <!-- 10. ОШИБКИ -->
    <div class="slide flex-center">
        <div class="stage-content">
            <h2>Analysis</h2>
            <div class="grid-2" style="margin-top: 50px; gap: 80px;">
                <div style="text-align: right;">
                    <h3 style="color: #ff6b6b;">The Problem</h3>
                    <p>Cold Start Users</p>
                </div>
                <div style="text-align: left;">
                    <h3 style="color: #6b94d6;">The Solution</h3>
                    <p>Heuristic Fallback</p>
                </div>
            </div>
            <div class="reflection" style="margin-top: 40px; font-size: 4rem;">&harr;</div>
        </div>
    </div>

    <!-- 11. ЭКОНОМИКА (One More Thing) -->
    <div class="slide flex-center">
        <div class="stage-content">
            <p class="one-more-thing">One more thing...</p>
            <div class="profit-reveal reflection">
                $150,000
            </div>
            <p style="margin-top: 20px;">Monthly Profit.</p>
        </div>
    </div>

    <!-- 12. КОМАНДА -->
    <div class="slide flex-center">
        <div class="stage-content">
            <h2>The Team</h2>
            <div class="team-row reflection">
                <div class="t-member">
                    <div class="t-photo"></div>
                    <p>Captain</p>
                </div>
                <div class="t-member">
                    <div class="t-photo"></div>
                    <p>ML</p>
                </div>
                <div class="t-member">
                    <div class="t-photo"></div>
                    <p>Analyst</p>
                </div>
                <div class="t-member">
                    <div class="t-photo"></div>
                    <p>Design</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 13. ФИНАЛ -->
    <div class="slide flex-center">
        <div class="stage-content reflection">
            <img src="images/Team_Spirit_new_em.svg" width="150" style="filter: brightness(0) invert(1); margin-bottom: 30px;">
            <h1>Thank you.</h1>
            <br><br>
            <a href="index.html" style="color: #666; text-decoration: none; font-size: 0.9rem; text-transform: uppercase;">Back to Menu</a>
        </div>
    </div>

    <!-- CONTROLS -->
    <div class="controls">
        <button onclick="prevSlide()">←</button>
        <button onclick="nextSlide()">→</button>
    </div>

        
<script>
        // === iWork '09 Style Charts ===
        // Цвета Keynote тех времен: Синий, Зеленый
        const KEYNOTE_BLUE = '#6B94D6';
        const KEYNOTE_GREEN = '#8CC63F';
        
        const commonOptions = {
            chart: { background: 'transparent', toolbar: { show: false }, animations: { enabled: true, easing: 'easeinout', speed: 1000 }, fontFamily: '"Helvetica Neue", sans-serif' },
            theme: { mode: 'dark' },
            colors: [KEYNOTE_BLUE, KEYNOTE_GREEN], // Синий для Uplift, Зеленый для Baseline
            grid: { show: true, borderColor: '#333', strokeDashArray: 0 },
            stroke: { width: 4, curve: 'smooth' },
            dataLabels: { enabled: false }
        };

        // 1. AREA CHART (Updated Data)
        const areaOptions = {
            ...commonOptions,
            series: [
                { name: 'Model Uplift', data: [31, 40, 28, 51, 42, 109, 100] },
                { name: 'Baseline', data: [11, 32, 45, 32, 34, 52, 41] }
            ],
            chart: { type: 'area', height: '100%', toolbar: { show: false } },
            fill: { type: 'gradient', gradient: { shadeIntensity: 1, opacityFrom: 0.7, opacityTo: 0.1, stops: [0, 100] } },
            xaxis: { categories: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'], labels: { style: { colors: '#aaa' } } }
        };

        // 2. BAR CHART (Updated Categories)
        const barOptions = {
            ...commonOptions,
            series: [{ name: 'Importance', data: [400, 430, 448, 470, 540] }],
            chart: { type: 'bar', height: '100%', toolbar: { show: false } },
            plotOptions: { bar: { borderRadius: 2, horizontal: true, barHeight: '50%' } },
            // Исправленные категории как в Classic
            xaxis: { categories: ['Age', 'Region', 'Last_Login', 'Total_Spend', 'Is_Weekend'], labels: { style: { colors: '#aaa' } } }
        };

        let ch1, ch2;
        document.addEventListener('DOMContentLoaded', () => {
            ch1 = new ApexCharts(document.querySelector("#chart-area"), areaOptions);
            ch2 = new ApexCharts(document.querySelector("#chart-bar"), barOptions);
            ch1.render(); ch2.render();
        });

        // === SLIDER ===
        let current = 0;
        const slides = document.querySelectorAll('.slide');
        const countEl = document.getElementById('currSlide');
        
        function showSlide(idx) {
            slides.forEach((s, i) => {
                s.classList.remove('active');
                if(i === idx) {
                    s.classList.add('active');
                    if(s.id === 'chartSlide') {
                        ch1.updateOptions({ chart: { animations: { enabled: true } } });
                        ch2.updateOptions({ chart: { animations: { enabled: true } } });
                    }
                }
            });
            countEl.innerText = idx + 1;
        }

        function nextSlide() { current = (current + 1) % slides.length; showSlide(current); }
        function prevSlide() { current = (current - 1 + slides.length) % slides.length; showSlide(current); }
        
        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowRight' || e.key === 'Space') nextSlide();
            if(e.key === 'ArrowLeft') prevSlide();
        });
    </script>

  
</body>
</html>